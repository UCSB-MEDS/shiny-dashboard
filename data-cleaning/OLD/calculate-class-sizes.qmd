---
title: "Calculate MESM & MEDS class sizes"
format: html
---

The following code is used to determine class size based on initial enrollment. There may be some minor discrepancies (e.g. students who drop from either program part-way through the year). These variables are for reference only (not called anywhere in the code base).

CAN WE MOVE THIS INTO `global.R`??

0. SETUP

```{r}
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##                               load libraries                             ----
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

librrary(tidyverse)

##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##                       import cleaned enrollment data                     ----
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

enrolled <- readRDS(here::here("bren-student-data-explorer", "data", "enrolled_cleaned.rds"))
```

1. DETERMINE MESM GRADUATING CLASS SIZES

**IMPORTANT:** Enrollment data is based on admission year (`ay_year`). MESM students graduate 2 years after admission. Therefore students from an admission year are the same students who graduate 2 years later (e.g. admission year of 2022 == graduating class of 2024).

```{r}
gradClass_mesm2019 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2017) |> count() |> pull() # 85; enrolled ay_year 2017
gradClass_mesm2020 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2018) |> count() |> pull() # 77; enrolled ay_year 2018
gradClass_mesm2021 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2019) |> count() |> pull() # 93; enrolled ay_year 2019
gradClass_mesm2022 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2020) |> count() |> pull() # 92; enrolled ay_year 2020
gradClass_mesm2023 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2021) |> count() |> pull() # 83; enrolled ay_year 2021 
gradClass_mesm2024 <- enrolled |> filter(objective1 == "MESM" & ay_year == 2022) |> count() |> pull() # 73; enrolled ay_year 2022
```

2. DETERMINE MEDS GRADUATING CLASS SIZES

**IMPORTANT:** Enrollment data is based on admission year (`ay_year`). MEDS students graduate 1 year after admission. Therefore students from an admission year are the same students who graduate 1 year later (e.g. admission year of 2023 == graduating class of 2024).

```{r}
gradClass_meds2022 <- enrolled |> filter(objective1 == "MEDS" & ay_year == 2021) |> count() |> pull() # 25; enrolled ay_year 2021
gradClass_meds2023 <- enrolled |> filter(objective1 == "MEDS" & ay_year == 2022) |> count() |> pull() # 31; enrolled ay_year 2022
```

